
<div class="flex justify-between mb-4">
  <h1 class="text-3xl font-bold">Connections</h1>
  <%= link_to 'Send request', new_connection_out_path, class: 'rounded-md bg-indigo-50 px-2.5 py-1.5 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100' %>
</div>

<div class="space-y-8">
  <div>
    <h2 class="text-xl font-semibold">Requests</h2>
    <ul role="list" class="divide-y divide-gray-100">
      <% @connections_in.each do |connection| %>
        <li class="flex gap-x-4 py-5 justify-between items-center">
          <div class="flex gap-x-4">
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
            <div class="min-w-0">
              <%= link_to connection.domain, "https://#{connection.domain}", target: '_blank' %>
              <p class="mt-1 truncate text-xs leading-5 text-gray-500">"<%= connection.message %>"</p>
            </div>
          </div>
          <div class="flex space-x-2">
            <%= link_to heroicon("x-mark", options: { class: "text-primary-500 h-5 w-5" }), connection, method: :delete, data: { confirm: 'Do you want to reject the request?' }, class: "rounded-full bg-red-600 p-2 text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600" %>
            <%= link_to heroicon("check", options: { class: "text-primary-500 h-5 w-5" }), approve_connection_in_path(connection), method: :patch, class: "rounded-full bg-indigo-600 p-2 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600" %>
          </div>
        </li>
      <% end %>
    </ul>
  </div>

  <div>
    <h2 class="text-xl font-semibold">Connections</h2>
    <ul role="list" class="divide-y divide-gray-100">
      <% @connections.each do |connection| %>
        <li class="flex gap-x-4 py-5 justify-between items-center">
          <div class="flex gap-x-4">
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
            <div class="min-w-0">
              <%= link_to connection.domain, "https://#{connection.domain}", target: '_blank' %>
              <p class="mt-1 truncate text-xs leading-5 text-gray-500">"<%= connection.token %>"</p>
            </div>
          </div>
          <div class="flex space-x-2">
            <%= link_to heroicon("x-mark", options: { class: "text-primary-500 h-5 w-5" }), connection, method: :delete, data: { confirm: 'Do you want to remove the connection?' }, class: "rounded-full bg-red-600 p-2 text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600" %>
          </div>
        </li>
      <% end %>
    </ul>
  </div>

  <div>
    <ul role="list" class="divide-y divide-gray-100">
      <h2 class="text-xl font-semibold">Sent</h2>
      <% @connections_out.each do |connection| %>
        <li class="flex gap-x-4 py-5 justify-between items-center">
          <div class="flex gap-x-4">
            <img class="h-12 w-12 flex-none rounded-full bg-gray-50" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
            <div class="min-w-0">
              <%= link_to connection.domain, "https://#{connection.domain}", target: '_blank' %>
            </div>
          </div>
          <div class="flex space-x-2">
            <%= link_to heroicon("x-mark", options: { class: "text-primary-500 h-5 w-5" }), connection, method: :delete, data: { confirm: 'Do you want to cancel the request?' }, class: "rounded-full bg-red-600 p-2 text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600" %>
          </div>
        </li>
      <% end %>
    </ul>
  </div>
</div>
